{#
/**
 * @file
 * HP Campus Announcements paragraph bundle.
 *
 * @ingroup themeable
 */
#}

<section class="section--padded-top section--padded-bottom" aria-label="Featured Announcements">
  {% if hp_show_wrapper %}
    <div class="compartment">
  {% endif %}
  
  {# Campus Announcements #}
{% if show_announcements and announcements %}
    {% set announcement_classes = [
        "section--padded-bottom",
    ] %}

    {% if hero_display_type == "none" %}
        {% set announcement_classes = announcement_classes|merge([
            "section--padded-top"
        ]) %}
    {% endif %}

    <section {{ attributes.addClass(announcement_classes) }} aria-label="Campus-Wide Announcements">
        <div class="compartment">
            <div class="campus-communications">
                <div class="campus-communications__header block-header">
                    <div class="campus-communications__header-icon">
                        <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewbox="0 0 512 512"><path fill="#FFFFFF" d="M501.62 92.11L267.24 2.04a31.958 31.958 0 00-22.47 0L10.38 92.11A16.001 16.001 0 000 107.09V144c0 8.84 7.16 16 16 16h480c8.84 0 16-7.16 16-16v-36.91c0-6.67-4.14-12.64-10.38-14.98zM64 192v160H48c-8.84 0-16 7.16-16 16v48h448v-48c0-8.84-7.16-16-16-16h-16V192h-64v160h-96V192h-64v160h-96V192H64zm432 256H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h480c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"/></svg>
                    </div>
                    <h2 class="campus-communications__header-title">Campus-Wide Announcements</h2>
                </div>
                <div class="campus-communications__body">
                    {% for announcement in announcements %}
                        <div class="campus-communications__announcement">
                            <h3 class="campus-communications__announcement-title">{{ announcement.label }}</h3>
                            <div class="campus-communications__announcement-content">
                                {{ announcement.body|raw }}
                            </div>
                            {% if announcement.external_link[0] %}
                                <ul class="campus-communications__announcement-links">
                                    {% for link in announcement.external_link %}
                                        <li>
                                            <a href="{{ link.url }}" class="btn">
                                                <span class="btn__text">{{ link.title }}</span>
                                                <span class="icon-arrow-right"></span>
                                            </a>
                                        </li>
                                    {% endfor %}
                                </ul>
                            {% endif %}
                        </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </section>
{% endif %}

  {% if hp_show_wrapper %}
    </div>
  {% endif %}
</section>